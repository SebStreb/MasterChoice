doctype html

html
	head
		meta(charset="utf-8")
		meta(name="viewport", content="width=device-width, initial-scale=1")
		link(rel="stylesheet", type="text/css", href="/stylesheets/bootstrap.min.css")
		link(rel="stylesheet", type="text/css", href="/stylesheets/style.css")
		script(src="/scripts/jquery.min.js")
		script(src="/scripts/bootstrap.min.js")
		script(src="/scripts/selection.js")
		script.
			var courses = [#{courses}];
			var selected = [];
		title MasterChoice #{name ? ' > ' + name : ''}

	body

		nav.navbar.navbar-default.navbar-fixed-top
			.container-fluid
				.navbar-header
					button.navbar-toggle.collapsed(type="button", data-toggle="collapse", data-target="#collapse", aria-expanded="false")
						span.sr-only Toggle Navigation
						span.icon-bar
						span.icon-bar
						span.icon-bar

					a.navbar-brand(href="/").
						#[img.logo(src="/img/epl.png")]
						MasterChoice
					.navbar-text #{name ? '>\t' + name : ''}

				.collapse.navbar-collapse#collapse
					ul.nav.navbar-nav.navbar-right
						li.navbar-text Nombre de crédits choisis :
						li.navbar-text
							strong#total …
						li.navbar-text
						li.btn-nav
							button.btn.btn-primary.navbar-btn(data-toggle="modal", data-target="#modal") Plus de détails
						li.btn-nav
							button.btn.btn-danger.navbar-btn(onclick="reset()") Reset
						li.navbar-text

		.modal.fade#modal(role="dialog")
			.modal-dialog.modal-lg
				.modal-content
					.modal-header
						button.close(type="button", data-dismiss="modal") &times;
						h2 Votre choix de programme
					.modal-body#info
						h3 Total
						p Nombre de crédits sur tout le master : #[strong#total2 …]
						p Choix d'options :
						.row
							.col-md-4
								h4 Tronc commun
								p#o1
							.col-md-4
								h4 Finalité spécialisée
								p#o2
							.col-md-4
								h4 Autres
								p#o7
						.row
							.col-md-3
								h4 Intelligence artificielle
								p#o3
								p#o3p
							.col-md-3
								h4 Ingénierie logicielle
								p#o4
								p#o4p
							.col-md-3
								h4 Sécurité et réseaux
								p#o5
								p#o5p
							.col-md-3
								h4 Science des données
								p#o6
								p#o6p
						h3 Première année de Master
						.row
							.col-md-6
								h4 Quadrimestre 1
								p Nombre de crédits : #[strong#q1 …]
								p Cours choisis :
								ul#q1c
							.col-md-6
								h4 Quadrimestre 2
								p Nombre de crédits : #[strong#q2 …]
								p Cours choisis :
								ul#q2c
						h3 Deuxième année de Master
						.row
							.col-md-6
								h4 Quadrimestre 1
								p Nombre de crédits : #[strong#q3 …]
								p Cours choisis :
								ul#q3c
							.col-md-6
								h4 Quadrimestre 2
								p Nombre de crédits : #[strong#q4 …]
								p Cours choisis :
								ul#q4c
					.modal-footer
						button.btn.btn-primary Sauvegarder
						button.btn.btn-primary Importer
						button.btn.btn-default(type="button", data-dismiss="modal") Close

		.container-fluid
			.form-inline.text-center
				.form-group
					label(for="prof") Filtrer par professeur :
					select.form-control#prof
						option #{profNames.indexOf(name) != -1 ? name : ''}
						each name in profNames
							option #{name}
					button.btn.btn-primary(onclick="filterProf();") Filtrer
				.form-group.form-space
				.form-group
					label(for="opt") Filtrer par option :
					select.form-control#opt
						option #{optNames.indexOf(name) != -1 ? name : ''}
						each name in optNames
							option #{name}
					button.btn.btn-primary(onclick="filterOpt();") Filtrer

			.table-responsive
				table.table.table-striped
					thead
						tr
							th.col-xs-1 Code du cours
							th.col-xs-3 Intitulé du cours
							th.col-xs-2 Professeurs
							th.col-xs-2 Options (bleu = cours requis)
							th.col-xs-1 Crédits (ECTS)
							th.col-xs-1 Quadrimestre
							th.col-xs-1 Commentaire
							th.col-xs-1 Ajouter
					tbody
						each course in courses
							tr(id = course.code)
								td
									strong #{course.code}
								td #{course.title}
								td
									ul.list-group
										each prof in course.professors
											li.list-group-item
												a(href="/professor/" + prof.name) #{prof.name}
								td
									ul.list-group
										each opt in course.options
											if opt.required
												li.list-group-item.list-group-item-info
													strong
														a(href="/option/" + opt.name) #{opt.name}
											else
												li.list-group-item
													a(href="/option/" + opt.name) #{opt.name}
								td.text-center #{course.credits}
								td.text-center #{course.semester}
								td
									small
										i #{course.comments}
								td
									button.btn.btn-primary.btn-xs(onclick="addOrRemove('" + course.code + "', 1);") MA1
									button.btn.btn-primary.btn-xs(onclick="addOrRemove('" + course.code + "', 2);") MA2

		footer
			p A small website to help you choose your Computer Science master program at UCL. &copy; 2017 Sébastien Strebelle
